function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("clsx")),n=e(require("react"));function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){var o,l=e.current,a=e.next,i=e.className,c=e.style,s=n.useState({current:l,next:a}),u=s[0],d=s[1],f=n.useState(!1),v=f[0],m=f[1];return n.useEffect(function(){u.current!==l?(u.current===u.next&&d(r({},u,{next:a})),m(!0)):m(!1)},[l,a]),n.createElement("div",{className:t("_2EBbg",i),style:c},n.createElement("div",{className:"_SKh-V"},u.next),n.createElement("div",{className:"_106d2"},u.current),n.createElement("div",{className:t("_3luxx",(o={},o._2kgZC=v,o)),onTransitionEnd:function(){d({current:l,next:a}),m(!1)}},n.createElement("div",{className:t("_2v-d4","_1GZQ7")},u.current),n.createElement("div",{className:t("_2v-d4","_3AVXa")},u.next)))}function l(e){var t=new Date(e);if(isNaN(t.getTime()))throw Error("Invalid date");var n=new Date,r=Math.round((t.getTime()-n.getTime())/1e3);return r<0&&(r=0),{total:r,days:Math.floor(r/86400),hours:Math.floor(r/3600%24),minutes:Math.floor(r/60%60),seconds:Math.floor(r%60)}}function a(e){return("0".repeat(Math.max(0,2-String(e).length))+String(e)).split("")}function i(e){if(void 0!==e)return"string"==typeof e?e:e+"px"}var c=["to","className","style","children","onComplete","onTick","showLabels","showSeparators","labels","labelStyle","digitBlockStyle","separatorStyle","dividerStyle","duration","renderMap"];function s(e){var s,u=e.to,d=e.className,f=e.style,v=e.children,m=e.onComplete,h=e.onTick,g=e.showLabels,p=e.showSeparators,b=e.labels,y=e.labelStyle,S=e.digitBlockStyle,x=e.separatorStyle,w=e.dividerStyle,E=e.duration,k=e.renderMap,N=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||(o[n]=e[n]);return o}(e,c),M=n.useState(),_=M[0],O=M[1],T=n.useRef(0);function j(){window.clearInterval(T.current)}function z(){var e=l(u);return{timeDelta:e,completed:0===e.total}}function D(){var e=z();O(e),h(e),e.completed&&(j(),m())}n.useEffect(function(){return O(z()),j(),T.current=window.setInterval(D,1e3),function(){return j()}},[u]);var C=n.useMemo(function(){return r({"--fcc-flip-duration":void 0===E||E<0||E>1?void 0:E+"s","--fcc-digit-block-width":i(null==S?void 0:S.width),"--fcc-digit-block-height":i(null==S?void 0:S.height),"--fcc-shadow":null==S?void 0:S.boxShadow,"--fcc-digit-font-size":i(null==S?void 0:S.fontSize),"--fcc-digit-color":null==S?void 0:S.color,"--fcc-label-font-size":i(null==y?void 0:y.fontSize),"--fcc-label-color":null==y?void 0:y.color,"--fcc-divider-color":null==w?void 0:w.color,"--fcc-divider-height":i(null==w?void 0:w.height),"--fcc-background":(null==S?void 0:S.background)||(null==S?void 0:S.backgroundColor),"--fcc-separator-size":i(null==x?void 0:x.size),"--fcc-separator-color":p?null==x?void 0:x.color:"transparent"},f)},[f,S,y,E,w,x,p]),q=n.useMemo(function(){if(S)return r({},S,{background:void 0,backgroundColor:void 0,width:void 0,height:void 0,boxShadow:void 0,fontSize:void 0,color:void 0})},[S]),B=n.useMemo(function(){if(void 0!==_){var e,t,n=(e=_.timeDelta,t=l((new Date).getTime()+1e3*(e.total-1)),{days:{current:a(e.days),next:a(t.days)},hours:{current:a(e.hours),next:a(t.hours)},minutes:{current:a(e.minutes),next:a(t.minutes)},seconds:{current:a(e.seconds),next:a(t.seconds)}}),r=k.length>=4?k.slice(0,4):[!0,!0,!0,!0],o=b.length>=4?b.slice(0,4):["Days","Hours","Minutes","Seconds"],i=Object.values(n),c=[];return r.forEach(function(e,t){e&&c.push([i[t],o[t]])}),c}},[k,_]);return void 0===_||void 0===B?n.createElement(n.Fragment,null):null!=_&&_.completed?n.createElement(n.Fragment,null,v):n.createElement("div",Object.assign({},N,{className:t("_qWTcH",(s={},s._1tbqx=g,s),d),style:C,"data-testid":"fcc-container"}),B.map(function(e,t){var r=e[0];return n.createElement(n.Fragment,{key:"digit-block-"+t},n.createElement("div",{className:"_3cpN7"},g&&n.createElement("div",{className:"_2aOn7",style:y},e[1]),r.current.map(function(e,t){return n.createElement(o,{key:t,current:e,next:r.next[t],style:q})})),t<B.length-1&&n.createElement("div",{className:"_2hRXr"}))}))}s.defaultProps={onComplete:function(){},onTick:function(){},labels:["Days","Hours","Minutes","Seconds"],renderMap:[!0,!0,!0,!0],showLabels:!0,showSeparators:!0},module.exports=s;
//# sourceMappingURL=index.js.map
