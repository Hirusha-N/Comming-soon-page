import e from"clsx";import t from"react";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(r){var o,l=r.current,a=r.next,i=r.className,c=r.style,s=t.useState({current:l,next:a}),u=s[0],d=s[1],f=t.useState(!1),v=f[0],m=f[1];return t.useEffect(function(){u.current!==l?(u.current===u.next&&d(n({},u,{next:a})),m(!0)):m(!1)},[l,a]),t.createElement("div",{className:e("_2EBbg",i),style:c},t.createElement("div",{className:"_SKh-V"},u.next),t.createElement("div",{className:"_106d2"},u.current),t.createElement("div",{className:e("_3luxx",(o={},o._2kgZC=v,o)),onTransitionEnd:function(){d({current:l,next:a}),m(!1)}},t.createElement("div",{className:e("_2v-d4","_1GZQ7")},u.current),t.createElement("div",{className:e("_2v-d4","_3AVXa")},u.next)))}function o(e){var t=new Date(e);if(isNaN(t.getTime()))throw Error("Invalid date");var n=new Date,r=Math.round((t.getTime()-n.getTime())/1e3);return r<0&&(r=0),{total:r,days:Math.floor(r/86400),hours:Math.floor(r/3600%24),minutes:Math.floor(r/60%60),seconds:Math.floor(r%60)}}function l(e){return("0".repeat(Math.max(0,2-String(e).length))+String(e)).split("")}function a(e){if(void 0!==e)return"string"==typeof e?e:e+"px"}var i=["to","className","style","children","onComplete","onTick","showLabels","showSeparators","labels","labelStyle","digitBlockStyle","separatorStyle","dividerStyle","duration","renderMap"];function c(c){var s,u=c.to,d=c.className,f=c.style,v=c.children,m=c.onComplete,h=c.onTick,g=c.showLabels,p=c.showSeparators,b=c.labels,y=c.labelStyle,S=c.digitBlockStyle,x=c.separatorStyle,w=c.dividerStyle,E=c.duration,k=c.renderMap,N=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||(o[n]=e[n]);return o}(c,i),M=t.useState(),_=M[0],O=M[1],T=t.useRef(0);function z(){window.clearInterval(T.current)}function D(){var e=o(u);return{timeDelta:e,completed:0===e.total}}function j(){var e=D();O(e),h(e),e.completed&&(z(),m())}t.useEffect(function(){return O(D()),z(),T.current=window.setInterval(j,1e3),function(){return z()}},[u]);var C=t.useMemo(function(){return n({"--fcc-flip-duration":void 0===E||E<0||E>1?void 0:E+"s","--fcc-digit-block-width":a(null==S?void 0:S.width),"--fcc-digit-block-height":a(null==S?void 0:S.height),"--fcc-shadow":null==S?void 0:S.boxShadow,"--fcc-digit-font-size":a(null==S?void 0:S.fontSize),"--fcc-digit-color":null==S?void 0:S.color,"--fcc-label-font-size":a(null==y?void 0:y.fontSize),"--fcc-label-color":null==y?void 0:y.color,"--fcc-divider-color":null==w?void 0:w.color,"--fcc-divider-height":a(null==w?void 0:w.height),"--fcc-background":(null==S?void 0:S.background)||(null==S?void 0:S.backgroundColor),"--fcc-separator-size":a(null==x?void 0:x.size),"--fcc-separator-color":p?null==x?void 0:x.color:"transparent"},f)},[f,S,y,E,w,x,p]),B=t.useMemo(function(){if(S)return n({},S,{background:void 0,backgroundColor:void 0,width:void 0,height:void 0,boxShadow:void 0,fontSize:void 0,color:void 0})},[S]),F=t.useMemo(function(){if(void 0!==_){var e,t,n=(e=_.timeDelta,t=o((new Date).getTime()+1e3*(e.total-1)),{days:{current:l(e.days),next:l(t.days)},hours:{current:l(e.hours),next:l(t.hours)},minutes:{current:l(e.minutes),next:l(t.minutes)},seconds:{current:l(e.seconds),next:l(t.seconds)}}),r=k.length>=4?k.slice(0,4):[!0,!0,!0,!0],a=b.length>=4?b.slice(0,4):["Days","Hours","Minutes","Seconds"],i=Object.values(n),c=[];return r.forEach(function(e,t){e&&c.push([i[t],a[t]])}),c}},[k,_]);return void 0===_||void 0===F?t.createElement(t.Fragment,null):null!=_&&_.completed?t.createElement(t.Fragment,null,v):t.createElement("div",Object.assign({},N,{className:e("_qWTcH",(s={},s._1tbqx=g,s),d),style:C,"data-testid":"fcc-container"}),F.map(function(e,n){var o=e[0];return t.createElement(t.Fragment,{key:"digit-block-"+n},t.createElement("div",{className:"_3cpN7"},g&&t.createElement("div",{className:"_2aOn7",style:y},e[1]),o.current.map(function(e,n){return t.createElement(r,{key:n,current:e,next:o.next[n],style:B})})),n<F.length-1&&t.createElement("div",{className:"_2hRXr"}))}))}c.defaultProps={onComplete:function(){},onTick:function(){},labels:["Days","Hours","Minutes","Seconds"],renderMap:[!0,!0,!0,!0],showLabels:!0,showSeparators:!0};export default c;
//# sourceMappingURL=index.modern.js.map
